@page
@model CompanyWebpages.Pages.EmployeesModel

@{
    ViewData["Title"] = "Employees";
}

<div class="container mt-4">

    <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-2 mb-4">
        <h1 class="h3 mb-0">Employees</h1>

        <a asp-page="/NewEmployee" class="btn btn-primary">
            Create employee
        </a>
    </div>

    @if (Model.Employees == null || Model.Employees.Count == 0)
    {
        <div class="gp-note" role="note">
            <div class="gp-note-title">Info</div>
            <div class="gp-note-text">
                No employees found. Create your first employee
                <a asp-page="/NewEmployee">here</a>.
            </div>
        </div>
    }
    else
    {
        <div class="row">
            @foreach (gategourmetLibrary.Models.Employee employee in Model.Employees.Values)
            {
                <div class="col-12 col-md-6 col-lg-4 mb-4">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">

                            <h5 class="card-title mb-1">@employee.Name</h5>
                            <h6 class="card-subtitle mb-3 text-muted">
                                Employee ID: @employee.Id
                            </h6>

                            <div class="mb-3">
                                <p class="mb-1">
                                    <strong>Email:</strong> @employee.Email
                                </p>
                                <p class="mb-1">
                                    <strong>Work phone:</strong> @employee.WorkPhoneNumber
                                </p>
                                <p class="mb-0">
                                    <strong>Personal phone:</strong> @employee.PersonalPhoneNumber
                                </p>
                            </div>

                            <div class="d-flex justify-content-end">
                                <!-- NO JS: go to confirmation page -->
                                <a asp-page="/EmployeeDeleteConfirm"
                                   asp-route-id="@employee.Id"
                                   class="btn btn-sm btn-outline-danger">
                                    Delete
                                </a>
                            </div>

                            <div class="gp-note mt-3" role="note">
                                <div class="gp-note-title">Note</div>
                                <div class="gp-note-text">
                                    Deleting an employee requires confirmation on the next page.
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            }
        </div>
    }

</div>
